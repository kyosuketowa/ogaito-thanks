<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ご寄付ありがとうございました｜小垣内参拾人組</title>
<meta name="description" content="小垣内参拾人組へのご寄付が完了しました。温かいご支援に心より御礼申し上げます。">
<!-- 自動リダイレクト（20秒後にYouTubeへ） -->
<meta http-equiv="refresh" content="20; url=https://youtube.com/channel/UCrSJoyT1Xf6ZxPlIyBCRzEA?si=WvMPTXwWtxcQ0411">
<style>
  :root {
    --fg:#111827; --muted:#6b7280; --bg:#f9fafb; --card:#ffffff; --border:#e5e7eb;
    --accent:#111827;
  }
  * { box-sizing: border-box; }
  body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', Meiryo; color:var(--fg); background: var(--bg); line-height: 1.75; }
  .wrap { max-width: 820px; margin: 0 auto; padding: 24px; }
  .card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; padding: 28px; box-shadow: 0 4px 16px rgba(0,0,0,.04); }
  h1 { margin: 0 0 6px; font-size: clamp(22px, 4vw, 32px); }
  h2 { font-size: 18px; margin: 20px 0 8px; }
  .lead { color: var(--muted); margin: 0 0 16px; }
  .thanks { font-size: 16px; margin: 12px 0 16px; }
  .cta { display: inline-block; padding: 12px 16px; border-radius: 12px; border: 1px solid var(--fg); text-decoration: none; }
  .count { color: var(--muted); font-variant-numeric: tabular-nums; }
  .small { color: var(--muted); font-size: 13px; margin-top: 16px; }
  .box { background:#f3f4f6; border:1px solid #e5e7eb; border-radius:12px; padding:12px 14px; }
  .row { display:flex; flex-wrap:wrap; gap:12px; }
  .row > div { flex: 1 1 240px; }
  .progress { height: 10px; border-radius: 999px; background: #e5e7eb; overflow: hidden; }
  .bar { height:100%; width:0%; background: var(--accent); transition: width .2s linear; }
  ul { margin: 8px 0 8px 1.2em; }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>決済が完了しました</h1>
      <p class="lead">
        このたびは <strong>小垣内参拾人組</strong> へのご寄付を賜り、心より御礼申し上げます。
      </p>

      <!-- 任意情報（URLクエリがあれば表示） -->
      <div class="box row" id="info" style="display:none">
        <div><strong>お名前</strong><br><span id="name"></span></div>
        <div><strong>ご寄付金額</strong><br><span id="amount"></span></div>
        <div><strong>注文ID</strong><br><span id="order"></span></div>
      </div>

      <p class="thanks">
        みなさまの温かいご支援は、地域の安全・安心の維持、文化・行事の継承、次世代の育成など、
        地域コミュニティのための活動に大切に活用いたします。
      </p>

      <h2>エンドロール掲載のご案内</h2>
      <p>
        ご支援者さまのお名前は、活動報告等の<strong>エンドロール</strong>に掲載させていただきます。
        掲載を希望されない場合は、決済時の<strong>メモ欄</strong>に「匿名希望」とご記入ください。
      </p>

      <h2>領収書・レシートについて</h2>
      <p>
        領収書（レシート）は、Squareにご登録の<strong>メールアドレス宛に自動送信</strong>されます。
        受信メールをご確認のうえ、大切に保管ください。
      </p>

      <h2>ご案内</h2>
      <ul>
        <li>個人情報は、寄付管理および必要なご連絡に限って使用し、適切に取り扱います。</li>
        <li>税制上の取扱いは、ご寄付者さまの居住国・制度により異なります。詳細は所轄の税務当局または専門家へご相談ください。</li>
        <li>内容に誤りがある場合や心当たりがない場合は、恐れ入りますが決済レシートからご確認ください。</li>
      </ul>

      <p class="thanks">
        あらためまして、みなさまのご厚情に深く感謝申し上げます。今後ともご支援のほど、よろしくお願い申し上げます。
      </p>

      <p><a class="cta" href="https://youtube.com/channel/UCrSJoyT1Xf6ZxPlIyBCRzEA?si=WvMPTXwWtxcQ0411">YouTube チャンネルへ移動する</a></p>
      <div class="progress" aria-hidden="true" style="margin:10px 0 6px;"><div class="bar" id="bar"></div></div>
      <p class="count"><span id="sec">20</span> 秒後に自動で移動します。</p>

      <p class="small">※このページは決済完了後に表示されています。ウィンドウを閉じても問題ありません。</p>
    </div>
  </div>

<script>
  // カウントダウン & 進捗バー
  (function(){
    var total = 20, s = total;
    var el = document.getElementById('sec');
    var bar = document.getElementById('bar');
    var timer = setInterval(function(){
      s -= 1;
      if (s < 0) { clearInterval(timer); return; }
      el.textContent = s;
      var pct = ((total - s) / total) * 100;
      bar.style.width = pct + '%';
    }, 1000);
  })();

  // URLクエリから任意の情報を表示（存在する場合のみ）
  (function(){
    var qs = new URLSearchParams(location.search);
    var order = qs.get('order_id') || qs.get('orderId') || '';
    var name  = qs.get('name') || qs.get('customer_name') || '';
    var amount = qs.get('amount') || '';
    var currency = qs.get('currency') || '';
    function set(id, v){ if (v) document.getElementById(id).textContent = v; }
    if (order || name || amount) {
      var info = document.getElementById('info');
      info.style.display = 'flex';
      set('order', order);
      set('name', name);
      if (amount) {
        var disp = amount + (currency ? ' ' + currency : '');
        set('amount', disp);
      }
    }
  })();
</script>
</body>
</html>
